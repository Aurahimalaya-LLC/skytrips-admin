# Inquiry CRM Kanban Board Implementation Plan

Based on the provided image, I will design and implement a comprehensive Inquiry CRM system. This system will feature a Kanban board for managing the lifecycle of flight fare inquiries, matching the visual design and functionality shown.

## 1. Database & Infrastructure
- **New Migration**: Create a migration for the `flight_inquiries` table.
  - `id`: UUID (Primary Key)
  - `inquiry_number`: TEXT (e.g., #IF-9021)
  - `client_name`: TEXT (e.g., "Skyline Travel")
  - `departure_code`: TEXT (3-letter IATA)
  - `arrival_code`: TEXT (3-letter IATA)
  - `start_date`, `end_date`: DATE
  - `priority`: ENUM ('HIGH', 'MEDIUM', 'LOW')
  - `status`: ENUM ('NEW', 'PROCESSING', 'QUOTE_SENT', 'FOLLOW_UP')
  - `assignee_id`: UUID (Foreign Key to users)
  - `created_at`, `updated_at`: TIMESTAMPTZ
- **API Endpoints**: 
  - `GET /api/inquiries`: Fetch inquiries with search and status filters.
  - `POST /api/inquiries`: Create new inquiries.
  - `PATCH /api/inquiries/[id]`: Update status (for drag-and-drop) or details.
  - `DELETE /api/inquiries/[id]`: Remove inquiry.

## 2. UI Components (Tailwind CSS)
- **`InquiryCRMBoard`**: The main container with "Inquiry CRM Board" title and primary action buttons ("Import PNR", "Create New Inquiry").
- **`InquiryFilters`**: Tabs for "All Inquiries", "Assigned to Me", "Urgent Only", plus search and filter icon.
- **`InquiryColumn`**: Represents each lifecycle stage with a color-coded dot and counter.
- **`InquiryCard`**: A detailed card matching the design:
  - Header with ID and Priority badge.
  - Client name and Route (`LHR -> JFK`).
  - Date range with calendar icon.
  - Footer with assignee avatar and relative time (e.g., "2h ago").
- **`InquiryStats`**: Footer section with metrics: "Active Boards", "Queue Status", "Avg Response Time", and "Sales Velocity" progress bar.

## 3. Interactive Features
- **Drag and Drop**: Native HTML5 Drag and Drop API implementation to allow users to move inquiries between columns, updating their status in the backend.
- **Search & Filtering**: Real-time filtering of cards based on search input and tab selection.
- **Responsive Design**: 
  - Desktop: Multi-column Kanban view.
  - Mobile: Horizontal scrolling columns or a simplified list view.
- **Modals**: Professional forms for "Create New Inquiry" and "Import PNR".
- **Animations**: Smooth transitions for drag-and-drop actions and status updates.

## 4. Quality Assurance
- **Unit Tests**: Test API endpoints and state management logic.
- **Documentation**: Design choices and implementation details guide.

Does this plan align with your vision for the Inquiry CRM Board?
